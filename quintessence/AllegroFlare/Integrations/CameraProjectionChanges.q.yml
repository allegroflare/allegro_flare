properties:


  - name: framework
    type: AllegroFlare::Frameworks::Full
    init_with: ''

  - name: platforming_2d_screen
    type: AllegroFlare::Prototypes::Platforming2D::Screen
    init_with: ''

  - name: tile_drive_screen
    type: AllegroFlare::Prototypes::TileDrive::Screen
    init_with: ''


functions:


  - name: initialize
    body: |
      framework.disable_fullscreen();
      framework.initialize();
      framework.get_bitmap_bin_ref().set_full_path("/Users/markoates/Repos/allegro_flare/bin/data/bitmaps");

      initialize_platforming_2d();
      initialize_tile_drive();

      framework.register_screen("platforming_2d_screen", &platforming_2d_screen);
      framework.register_screen("tile_drive_screen", &tile_drive_screen);

      return;


  - name: initialize_tile_drive
    body: |
      tile_drive_screen.set_bitmap_bin(&framework.get_bitmap_bin_ref());
      tile_drive_screen.set_font_bin(&framework.get_font_bin_ref());
      tile_drive_screen.set_sample_bin(&framework.get_sample_bin_ref());
      tile_drive_screen.set_event_emitter(&framework.get_event_emitter_ref());
      tile_drive_screen.set_maps_folder("/Users/markoates/Repos/allegro_flare/bin/data/maps/");
      tile_drive_screen.set_terrain_mesh_dictionary({
         { "og-tunnel-mesh", { "tunnel_mesh-02.tmj", nullptr } },
      });
      tile_drive_screen.set_current_map_identifier("og-tunnel-mesh");
      tile_drive_screen.set_collision_stepper_step_result_callback(
         AllegroFlare::Prototypes::TileDrive::TileDrive::development_play_around_with_collision_steper_callback,
         nullptr
      );
      tile_drive_screen.initialize();
      return;


  - name: initialize_platforming_2d
    body: |
      platforming_2d_screen.set_bitmap_bin(&framework.get_bitmap_bin_ref());
      platforming_2d_screen.set_display(framework.get_primary_display());
      platforming_2d_screen.set_event_emitter(&framework.get_event_emitter_ref());
      platforming_2d_screen.set_map_dictionary({
         { "map_a", "/Users/markoates/Repos/allegro_flare/bin/data/maps/map1-0x.tmj" },
         { "map_b", "/Users/markoates/Repos/allegro_flare/bin/data/maps/map1b-0x.tmj" },
      });
      platforming_2d_screen.initialize_maps();
      platforming_2d_screen.set_currently_active_map("map_a");
      return;


dependencies:


  - symbol: AllegroFlare::Frameworks::Full
    headers: [ AllegroFlare/Frameworks/Full.hpp ]
  - symbol: AllegroFlare::Prototypes::Platforming2D::Screen
    headers: [ AllegroFlare/Prototypes/Platforming2D/Screen.hpp ]
  - symbol: AllegroFlare::Prototypes::TileDrive::Screen
    headers: [ AllegroFlare/Prototypes/TileDrive/Screen.hpp ]


