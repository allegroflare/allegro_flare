properties:


  - name: speaker
    type: std::string
    init_with: '"[unset-speaker]"'
    constructor_arg: true
    getter: true
    setter: true

  - name: pages
    type: std::vector<std::string>
    init_with: '{"[unset-pages]"}'
    constructor_arg: true
    getter: true
    setter: true

  - name: options
    type: std::vector<std::pair<std::string, AllegroFlare::DialogTree::NodeOptions::Base*>>
    constructor_arg: true
    init_with: '{}'
    getter: true
    setter: true


functions:


  - name: build_options_as_text
    type: std::vector<std::string>
    body: |
      // TODO: Test this function
      std::vector<std::string> result;
      result.reserve(options.size());
      for (auto &option : options)
      {
         // TODO: Consider if this check is necessary
         if (!option.second)
         {
            AllegroFlare::Logger::throw_error("AllegroFlare/DialogTree/Node", "an option contains a nullptr");
         }
         result.push_back(option.first);
      }
      return result;
    body_dependency_symbols:
      - AllegroFlare::Logger::throw_error


  - name: num_options
    type: int
    body: |
      return options.size();


dependencies:


  - symbol: AllegroFlare::DialogTree::NodeOptions::Base
    headers: [ AllegroFlare/DialogTree/NodeOptions/Base.hpp ]
  - symbol: AllegroFlare::Logger::throw_error
    headers: [ AllegroFlare/Logger.hpp ]


