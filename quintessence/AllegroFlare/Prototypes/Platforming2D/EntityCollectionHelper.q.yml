properties:


  - name: entities
    type: std::vector<AllegroFlare::Prototypes::Platforming2D::Entities::Basic2D*>*
    init_with: nullptr
    constructor_arg: true
    getter: true
    setter: true


functions:


  - name: select_collectable_by_player
    type: std::vector<AllegroFlare::Prototypes::Platforming2D::Entities::Basic2D*>
    guards: [ entities ]
    body: |
      using namespace AllegroFlare::Prototypes::Platforming2D::EntityFlagNames;

      std::vector<AllegroFlare::Prototypes::Platforming2D::Entities::Basic2D*> result;
      for (auto &entity : (*entities))
      {
         if (entity->exists(COLLECTABLE_BY_PLAYER)) result.push_back(entity);
      }
      return result;
    body_dependency_symbols:
      - AllegroFlare::Prototypes::Platforming2D::EntityFlagNames


  - name: select_collides_with_player
    type: std::vector<AllegroFlare::Prototypes::Platforming2D::Entities::Basic2D*>
    guards: [ entities ]
    body: |
      using namespace AllegroFlare::Prototypes::Platforming2D::EntityFlagNames;

      std::vector<AllegroFlare::Prototypes::Platforming2D::Entities::Basic2D*> result;
      for (auto &entity : (*entities))
      {
         if (entity->exists(COLLIDES_WITH_PLAYER)) result.push_back(entity);
      }
      return result;
    body_dependency_symbols:
      - AllegroFlare::Prototypes::Platforming2D::EntityFlagNames


  - name: select_goalposts
    type: std::vector<AllegroFlare::Prototypes::Platforming2D::Entities::Basic2D*>
    guards: [ entities ]
    body: |
      using namespace AllegroFlare::Prototypes::Platforming2D::EntityFlagNames;

      std::vector<AllegroFlare::Prototypes::Platforming2D::Entities::Basic2D*> result;
      for (auto &entity : (*entities))
      {
         if (entity->exists(TYPE, GOALPOST)) result.push_back(entity);
      }
      return result;
    body_dependency_symbols:
      - AllegroFlare::Prototypes::Platforming2D::EntityFlagNames


  - name: select_save_points
    type: std::vector<AllegroFlare::Prototypes::Platforming2D::Entities::Basic2D*>
    guards: [ entities ]
    body: |
      using namespace AllegroFlare::Prototypes::Platforming2D::EntityFlagNames;

      std::vector<AllegroFlare::Prototypes::Platforming2D::Entities::Basic2D*> result;
      for (auto &entity : (*entities))
      {
         if (entity->exists(TYPE, SAVE_POINT)) result.push_back(entity);
      }
      return result;
    body_dependency_symbols:
      - AllegroFlare::Prototypes::Platforming2D::EntityFlagNames


  - name: select_doors
    type: std::vector<AllegroFlare::Prototypes::Platforming2D::Entities::Basic2D*>
    guards: [ entities ]
    body: |
      using namespace AllegroFlare::Prototypes::Platforming2D::EntityFlagNames;

      std::vector<AllegroFlare::Prototypes::Platforming2D::Entities::Basic2D*> result;
      for (auto &entity : (*entities))
      {
         if (entity->exists(TYPE, DOOR)) result.push_back(entity);
      }
      return result;
    body_dependency_symbols:
      - AllegroFlare::Prototypes::Platforming2D::EntityFlagNames


  - name: select_on_map
    type: std::vector<AllegroFlare::Prototypes::Platforming2D::Entities::Basic2D*>
    parameters:
      - name: on_map_name
        type: std::string
        default_argument: '"[on-map-name-not-set]"'
    guards: [ entities ]
    body: |
      using namespace AllegroFlare::Prototypes::Platforming2D::EntityFlagNames;

      std::vector<AllegroFlare::Prototypes::Platforming2D::Entities::Basic2D*> result;
      for (auto &entity : (*entities))
      {
         if (entity->exists(ON_MAP_NAME, on_map_name)) result.push_back(entity);
      }
      return result;
    body_dependency_symbols:
      - AllegroFlare::Prototypes::Platforming2D::EntityFlagNames


  - name: select_on_map_y_sorted
    type: std::vector<AllegroFlare::Prototypes::Platforming2D::Entities::Basic2D*>
    parameters:
      - name: on_map_name
        type: std::string
        default_argument: '"[on-map-name-not-set]"'
    guards: [ entities ]
    body: |
      using namespace AllegroFlare::Prototypes::Platforming2D::EntityFlagNames;
      using AllegroFlare::Prototypes::Platforming2D::Entities::Basic2D;

      std::vector<Basic2D*> result;
      for (auto &entity : (*entities))
      {
         if (entity->exists(ON_MAP_NAME, on_map_name)) result.push_back(entity);
      }

      // TODO: see if there is a better way to do this without using "get_place_ref()", maybe a comparison
      // operator on the class.
      std::sort(result.begin(), result.end(),[](Basic2D *a, Basic2D *b)
            { return a->get_place_ref().position.y < b->get_place_ref().position.y; }
         );

      return result;
    body_dependency_symbols:
      - AllegroFlare::Prototypes::Platforming2D::EntityFlagNames


  - name: find_map_by_name
    type: AllegroFlare::Prototypes::Platforming2D::Entities::TileMaps::Basic2D*
    parameters:
      - name: map_name
        type: std::string
        default_argument: '"[find-map-name-not-set]"'
    guards: [ entities ]
    body: |
      using namespace AllegroFlare::Prototypes::Platforming2D::EntityFlagNames;

      //throw std::runtime_error("find_map_by_name not implemented");
      //std::vector<AllegroFlare::Prototypes::Platforming2D::Entities::Basic2D*> result;
      for (auto &entity : (*entities))
      {
         if (entity->exists(MAP_NAME, map_name))
         {
            return static_cast<AllegroFlare::Prototypes::Platforming2D::Entities::TileMaps::Basic2D*>(entity);
         }
      }
      return nullptr;
    body_dependency_symbols:
      - AllegroFlare::Prototypes::Platforming2D::EntityFlagNames



dependencies:


  - symbol: AllegroFlare::Prototypes::Platforming2D::EntityFlagNames
    headers: [ AllegroFlare/Prototypes/Platforming2D/EntityFlagNames.hpp ]
  - symbol: AllegroFlare::Prototypes::Platforming2D::Entities::Basic2D
    headers: [ AllegroFlare/Prototypes/Platforming2D/Entities/Basic2D.hpp ]
  - symbol: AllegroFlare::Prototypes::Platforming2D::Entities::TileMaps::Basic2D
    headers: [ AllegroFlare/Prototypes/Platforming2D/Entities/TileMaps/Basic2D.hpp ]


