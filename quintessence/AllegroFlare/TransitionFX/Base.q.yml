properties:


  - name: surface_A
    type: ALLEGRO_BITMAP*
    init_with: nullptr
    getter: true

  - name: surface_B
    type: ALLEGRO_BITMAP*
    init_with: nullptr
    getter: true

  - name: duration
    type: float
    init_with: 2.0f

  - name: position
    type: float
    init_with: 0.0f

  - name: finished
    type: bool
    init_with: false
    getter: true

  - name: initialized
    type: bool
    init_with: false


functions:


  - name: update
    virtual: true
    body: |
      position += 1.0 / 60.0;
      if (position >= duration) finished = true;
      return;


  - name: draw
    virtual: true
    body: |
      float alpha = 1.0 - (duration - position) / duration;
      al_draw_bitmap(surface_A, 0, 0, 0);
      al_draw_tinted_bitmap(surface_B, ALLEGRO_COLOR{alpha, alpha, alpha, alpha}, 0, 0, 0);
      return;


dependencies:


  - symbol: ALLEGRO_BITMAP*
    headers: [ allegro5/allegro.h ]
 

